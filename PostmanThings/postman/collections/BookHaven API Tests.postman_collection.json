{
  "info": {
    "_postman_id": "67ad4c42-1291-4f08-97dc-e584314b5b8d",
    "name": "BookHaven API Tests",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Get All Posts",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "fc3ba4aa-1f18-46b6-a0d6-d1e3f64284af",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "55d3c978-f577-42b8-87f5-d6896316a8b0",
            "exec": [
              "const jsonData = pm.response.json();\r",
              "\r",
              "// Test: Response is an array\r",
              "pm.test(\"Response is an array\", function() {\r",
              "    pm.expect(jsonData).to.be.an(\"array\");\r",
              "});\r",
              "\r",
              "// Test: Array has items\r",
              "pm.test(\"Array is not empty\", function() {\r",
              "    pm.expect(jsonData).to.have.length.above(0);\r",
              "});\r",
              "\r",
              "// Test: Array has expected count\r",
              "pm.test(\"Array has 100 posts\", function() {\r",
              "    pm.expect(jsonData).to.have.lengthOf(100);\r",
              "});\r",
              "\r",
              "// Test: First item has required structure\r",
              "pm.test(\"First item has required fields\", function() {\r",
              "    const firstPost = jsonData[0];\r",
              "    pm.expect(firstPost).to.have.all.keys(\"userId\", \"id\", \"title\", \"body\");\r",
              "});\r",
              "\r",
              "pm.test(\"All Items have an Id\", function() {\r",
              "    jsonData.forEach(post => {\r",
              "    pm.expect(post).to.have.property( \"id\");\r",
              "    })\r",
              "});\r",
              "\r",
              "pm.test(\"All id values are unique\", function () {\r",
              "    const response = pm.response.json();\r",
              "\r",
              "    const ids = response.map(item => item.id);\r",
              "    const uniqueIds = new Set(ids);\r",
              "\r",
              "    pm.expect(uniqueIds.size).to.eql(ids.length);\r",
              "});\r",
              "\r",
              "pm.test(\"Post ID is within 1-10\", function() {\r",
              "    jsonData.forEach(post => {\r",
              "    pm.expect(post.userId).to.be.within(1,10);\r",
              "    })\r",
              "});\r",
              "\r",
              "// Test: Response time is acceptable\r",
              "pm.test(\"Response time is under 500ms\", function() {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(500);\r",
              "});\r",
              "\r",
              "// Test: Response time range\r",
              "pm.test(\"Response time is within SLA\", function() {\r",
              "    pm.expect(pm.response.responseTime).to.be.within(0, 2000);\r",
              "});\r",
              "\r",
              "\r",
              "\r",
              "\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "853e5626-1fbf-48d4-a468-5e8f3a9a34ee",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{BookHaven}}/posts",
          "host": [
            "{{BookHaven}}"
          ],
          "path": [
            "posts"
          ]
        },
        "description": "1. Every object has a UserId, Id, Title, and Body.\n    \n2. 100 items were returned, starting at 0 and ending at 99.\n    \n3. Headers are: Host, User-Agent, Accept, Accept-Encoding, and Connection."
      },
      "response": []
    },
    {
      "name": "Get Post by Id",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "57897cc0-db76-4e2c-925a-e11415a07ab0",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "cfd24ddd-31a9-4b7c-b274-af83a5d2204d",
            "exec": [
              "// Test 1: Status code is 200\r",
              "pm.test(\"Status code is 200\", function() {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "\r",
              "// Test 2: Status code is in success range\r",
              "pm.test(\"Status code is success (2xx)\", function() {\r",
              "    pm.expect(pm.response.code).to.be.within(200, 299);\r",
              "});\r",
              "\r",
              "// Test 3: Status text\r",
              "pm.test(\"Status message is OK\", function() {\r",
              "    pm.response.to.have.status(\"OK\");\r",
              "});\r",
              "\r",
              "pm.test(\"Status code is not 404\", function() {\r",
              "    pm.expect(pm.response.code).to.not.equal(404);\r",
              "});\r",
              "\r",
              "// Parse response\r",
              "const jsonData = pm.response.json();\r",
              "\r",
              "// Test: Response has required fields\r",
              "pm.test(\"Response has required fields\", function() {\r",
              "    pm.expect(jsonData).to.have.property(\"id\");\r",
              "    pm.expect(jsonData).to.have.property(\"title\");\r",
              "    pm.expect(jsonData).to.have.property(\"body\");\r",
              "    pm.expect(jsonData).to.have.property(\"userId\");\r",
              "});\r",
              "\r",
              "// Test: Data types are correct\r",
              "pm.test(\"Field types are correct\", function() {\r",
              "    pm.expect(jsonData.id).to.be.a(\"number\");\r",
              "    pm.expect(jsonData.title).to.be.a(\"string\");\r",
              "    pm.expect(jsonData.body).to.be.a(\"string\");\r",
              "    pm.expect(jsonData.userId).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "// Test: Specific values\r",
              "pm.test(\"Post ID is 1\", function() {\r",
              "    pm.expect(jsonData.id).to.equal(1);\r",
              "});\r",
              "\r",
              "pm.test(\"Post ID is within 1-10\", function() {\r",
              "    pm.expect(jsonData.userId).to.be.within(1,10);\r",
              "});\r",
              "\r",
              "pm.test(\"Post Title is at least 5 characters\", function() {\r",
              "    pm.expect(jsonData.title.length).to.be.greaterThan(4);\r",
              "});\r",
              "\r",
              "// Test: String contains expected content\r",
              "pm.test(\"Title is not empty\", function() {\r",
              "    pm.expect(jsonData.title).to.not.be.empty;\r",
              "});\r",
              "\r",
              "pm.test(\"Title has expected content\", function () {\r",
              "    pm.expect(jsonData.title).to.include(\"unt\");\r",
              "});\r",
              "\r",
              "// Test: Response time is acceptable\r",
              "pm.test(\"Response time is under 500ms\", function() {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(300);\r",
              "});\r",
              "\r",
              "// Test: Response time range\r",
              "pm.test(\"Response time is within SLA\", function() {\r",
              "    pm.expect(pm.response.responseTime).to.be.within(0, 1500);\r",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "e9ef5608-5865-439b-b188-054d3348930c",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{BookHaven}}/posts/1",
          "host": [
            "{{BookHaven}}"
          ],
          "path": [
            "posts",
            "1"
          ]
        },
        "description": "If Ids out of bounds then nothing is returned and the status code is 404 Not Found."
      },
      "response": []
    },
    {
      "name": "Get Posts by User",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "a6081dcb-3eb0-46ff-a704-d6ada3e5cb6e",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "225a05ba-69cf-4f74-ae06-0d2e815731ec",
            "exec": [
              "// Test: Response time is acceptable\r",
              "pm.test(\"Response time is under 500ms\", function() {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(300);\r",
              "});\r",
              "\r",
              "// Test: Response time range\r",
              "pm.test(\"Response time is within SLA\", function() {\r",
              "    pm.expect(pm.response.responseTime).to.be.within(0,1200);\r",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "f50efa52-1243-43fa-aaff-4b18466b95c6",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{BookHaven}}/posts?userId=1",
          "host": [
            "{{BookHaven}}"
          ],
          "path": [
            "posts"
          ],
          "query": [
            {
              "key": "userId",
              "value": "1"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Create New Post",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "bd35f887-82bc-4e8d-a079-42d94450dec5",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "f84bd348-a26b-4dfa-929a-2bc4a827657a",
            "exec": [
              "// Test: Response time is acceptable\r",
              "pm.test(\"Response time is under 500ms\", function() {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(500);\r",
              "});\r",
              "\r",
              "// Test: Response time range\r",
              "pm.test(\"Response time is within SLA\", function() {\r",
              "    pm.expect(pm.response.responseTime).to.be.within(0, 600);\r",
              "});\r",
              "\r",
              "pm.test(\"Content-Type is JSON\", function() {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\r",
              "})\r",
              "\r",
              "pm.test(\"Has Required Headers\", function() {\r",
              "    pm.response.to.have.header(\"Content-Type\");\r",
              "    pm.response.to.have.header(\"Date\");\r",
              "    pm.response.to.have.header(\"Cache-Control\");\r",
              "})\r",
              "\r",
              "pm.test(\"Has Content-Length Header\", function() {\r",
              "    const contentLength = pm.response.headers.get(\"Content-Length\");\r",
              "    pm.response.to.have.header(\"Content-Length\");\r",
              "    pm.expect(Number(contentLength)).to.be.a(\"number\")\r",
              "    \r",
              "})\r",
              "\r",
              "pm.test(\"Headers are secured\", function(){\r",
              "    const forbiddenHeaders = [\r",
              "        \"authorization\",\r",
              "        \"cookie\",\r",
              "        \"set-cookie\",\r",
              "        \"x-api-key\",\r",
              "        \"x-auth-token\",\r",
              "        \"x-access-token\"\r",
              "    ];\r",
              "\r",
              "    const headers = pm.response.headers.all();\r",
              "    forbiddenHeaders.forEach(header => {\r",
              "        pm.expect(headers).to.not.have.property(header);\r",
              "        })\r",
              "})\r",
              "\r",
              "\r",
              "\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "06392b11-b843-4284-85b1-2af305498d0b",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"title\": \"Test Post {{$randomLoremWords}}\",\r\n    \"body\": \"{{$randomLoremParagraph}}\",\r\n    \"userId\": {{$randomInt}}\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{BookHaven}}/posts",
          "host": [
            "{{BookHaven}}"
          ],
          "path": [
            "posts"
          ]
        },
        "description": "1. The id assigned is 101\n    \n2. 201 represents a successful creation of an object, while 200 represents a success in general."
      },
      "response": []
    },
    {
      "name": "Update post",
      "id": "f1dbffcc-9478-4470-8ccc-43dfd45cf3c2",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"id\": 1,\r\n    \"title\": \"Updated Title - API Testing\",\r\n    \"body\": \"This post has been updated via PUT request\",\r\n    \"userId\": 1\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{BookHaven}}/posts/1",
          "host": [
            "{{BookHaven}}"
          ],
          "path": [
            "posts",
            "1"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Delete Post",
      "id": "eb975b2e-0b61-447e-b103-8dceea9ce6da",
      "request": {
        "method": "DELETE",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"id\": 1,\r\n    \"title\": \"Updated Title - API Testing\",\r\n    \"body\": \"This post has been updated via PUT request\",\r\n    \"userId\": 1\r\n}"
        },
        "url": {
          "raw": "{{BookHaven}}/posts/1",
          "host": [
            "{{BookHaven}}"
          ],
          "path": [
            "posts",
            "1"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Get Post Not Found",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "671fd5ca-70c4-481d-a602-a610c00d7930",
            "exec": [
              "// Test 1: Status code is 200\r",
              "pm.test(\"Status code is 404\", function() {\r",
              "    pm.response.to.have.status(404);\r",
              "});\r",
              "\r",
              "pm.test(\"Response is empty object\", function () {\r",
              "    const jsonData = pm.response.json();\r",
              "    pm.expect(Object.keys(jsonData).length).to.equal(0);\r",
              "});\r",
              "\r",
              "// Test 3: Status text\r",
              "pm.test(\"Status message is Not Found\", function() {\r",
              "    pm.response.to.have.status(\"Not Found\");\r",
              "});\r",
              "\r",
              "// Test 4: Response time\r",
              "pm.test(\"Response time is less than 200ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(200);\r",
              "});\r",
              "\r",
              "// Test: Response time is acceptable\r",
              "pm.test(\"Response time is under 500ms\", function() {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(300);\r",
              "});\r",
              "\r",
              "// Test: Response time range\r",
              "pm.test(\"Response time is within SLA\", function() {\r",
              "    pm.expect(pm.response.responseTime).to.be.within(0, 900);\r",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "ea112ed2-0178-4728-887a-33a67f447f37",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "29caa6df-7a22-48dd-a542-6af011077d9f",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": ""
        },
        "url": {
          "raw": "{{BookHaven}}/posts/999",
          "host": [
            "{{BookHaven}}"
          ],
          "path": [
            "posts",
            "999"
          ]
        }
      },
      "response": []
    },
    {
      "name": "New Request",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "4ce272bb-4510-49ac-b474-eb4ecd2d590c",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "933dcaeb-4fb6-45e5-bd4e-f0b2e1945c6d",
            "exec": [
              "pm.test(\"Status code is 404\", function () {\r",
              "    pm.response.to.have.status(404);\r",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "1be7aad3-3cb6-43b1-bbcd-f76d35588d69",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{BookHaven}}/invalid",
          "host": [
            "{{BookHaven}}"
          ],
          "path": [
            "invalid"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Register New User",
      "id": "e33d80ca-e4a2-4c15-959c-e9318bf48e75",
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n        \"id\": 1,\r\n        \"name\": \"{{$randomFullName}}\",\r\n        \"username\": \"Bret\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"address\": {\r\n            \"street\": \"Kulas Light\",\r\n            \"suite\": \"Apt. 556\",\r\n            \"city\": \"Gwenborough\",\r\n            \"zipcode\": \"92998-3874\",\r\n            \"geo\": {\r\n                \"lat\": \"-37.3159\",\r\n                \"lng\": \"81.1496\"\r\n            }\r\n        },\r\n        \"phone\": \"1-770-736-8031 x56442\",\r\n        \"website\": \"hildegard.org\",\r\n        \"company\": {\r\n            \"name\": \"Romaguera-Crona\",\r\n            \"catchPhrase\": \"Multi-layered client-server neural-net\",\r\n            \"bs\": \"harness real-time e-markets\"\r\n        }\r\n    }",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{BookHaven}}/users",
          "host": [
            "{{BookHaven}}"
          ],
          "path": [
            "users"
          ]
        }
      },
      "response": []
    }
  ],
  "variable": [
    {
      "id": "a82973fb-176c-4153-ace5-fcfaaa5cd63d",
      "key": "BookHaven",
      "value": "",
      "type": "default"
    }
  ]
}